RewriteEngine On

# SEO URL Rewrite - Yazılar için (GÜNCELLENMİŞ)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-z0-9-]+)\.html$ single.php?slug=$1 [L,QSA]

# Kategori URL'leri
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^kategori/([a-z0-9-]+)$ category.php?slug=$1 [L,QSA]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^kategori/([a-z0-9-]+)/sayfa/([0-9]+)$ category.php?slug=$1&page=$2 [L,QSA]

# Arama URL'leri
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ara/(.*)$ search.php?q=$1 [L,QSA]

# Admin klasörüne erişim
RewriteRule ^admin/(.*)$ admin/$1 [L]

# SEO URL Rewrite - Generated by SEO Manager
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-z0-9-]+)\.html$ single.php?slug=$1 [L,QSA]

# Kategori URL'leri
RewriteRule ^kategori/([a-z0-9-]+)$ category.php?slug=$1 [L,QSA]
RewriteRule ^kategori/([a-z0-9-]+)/sayfa/([0-9]+)$ category.php?slug=$1&page=$2 [L,QSA]

# RSS Feed
RewriteRule ^feed/?$ rss.php [L,QSA]
RewriteRule ^rss/?$ rss.php [L,QSA]

# Site Haritası
RewriteRule ^sitemap\.xml$ sitemap.php [L,QSA]

# Admin klasörüne erişim
RewriteRule ^admin/(.*)$ admin/$1 [L]

# Güvenlik
Options -Indexes
FileETag None

# Türkçe karakter desteği
AddDefaultCharset UTF-8

# Cache kontrolü
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/pdf "access plus 1 month"
    ExpiresByType text/javascript "access plus 1 month"
    ExpiresByType text/html "access plus 600 seconds"
</IfModule>

# Gzip sıkıştırma
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# Hata sayfaları
ErrorDocument 404 /404.php